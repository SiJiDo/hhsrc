{% extends "base.html" %}

{% block title %}通知方式配置{% endblock %}


{% block navbar %}
<section class="content-header">
    <h1>扫描模式配置</h1>
    <ol class="breadcrumb">
        <li><i class="fa fa-dashboard"></i> 当前位置</li>
        <li class="active">系统管理</li>
        <li class="active">扫描模式配置</li>
    </ol>
</section>
{% endblock %}


{% block content %}
<div class="box box-primary">
    <form method="post">
        {{form.hidden_tag()}}
        <div class="box-header with-border">
            {% include 'message.html' %}
        </div>

        <div class="box-body">
            <div class="col-md-6">
                <div class="form-group">
                    <label>{{form.scanmethod_name.label}}</label>
                    {{form.scanmethod_name(class_="form-control",placeholder="请输入模式名称")}}
                </div>
            </div>
        </div>
        <table class="table table-bordered">
            <tr>
                <th>是否扫描子域</th>
                <th>是否扫描端口</th>
                <th>是否扫描url</th>
                <th>是否扫描目录</th>
                <th>是否扫描漏洞</th>
                <th>端口扫描模式</th>
                <th>目录扫描模式</th>
            </tr>
            <tr>
                <td>{{form.scanmethod_subdomain()}}</td>
                <td>{{form.scanmethod_port()}}</td>
                <td>{{form.scanmethod_url()}}</td>
                <td>{{form.scanmethod_dirb()}}</td>
                <td>{{form.scanmethod_vuln()}}</td>
                <td>{{form.scanmethod_port_portlist(class_="form-control select2",placeholder="请选择")}}</td>
                <td>{{form.scanmethod_dirb_wordlist(class_="form-control select2",placeholder="请选择")}}</td>
            </tr>
        </table>

        <div class="box-footer">
            <div class="col-md-12">
                {{form.submit(class_="btn btn-primary pull-right")}}
            </div>
        </div>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script>
    function initPage() {

        switch_value1 = $('#scanmethod_subdomain')[0].checked
        $('#scanmethod_subdomain').bootstrapSwitch({
            state: switch_value1,
            onText: '是',
            offText: '否'

        });
        switch_value2 = $('#scanmethod_port')[0].checked
        $('#scanmethod_port').bootstrapSwitch({
            state: switch_value2,
            onText: '是',
            offText: '否'

        });
        switch_value3 = $('#scanmethod_url')[0].checked
        $('#scanmethod_url').bootstrapSwitch({
            state: switch_value3,
            onText: '是',
            offText: '否'

        });
        switch_value4 = $('#scanmethod_dirb')[0].checked
        $('#scanmethod_dirb').bootstrapSwitch({
            state: switch_value4,
            onText: '是',
            offText: '否'

        });
        switch_value5 = $('#scanmethod_vuln')[0].checked
        $('#scanmethod_vuln').bootstrapSwitch({
            state: switch_value5,
            onText: '是',
            offText: '否'

        });
        $(".select2").select2();
    }
</script>
{% endblock %}